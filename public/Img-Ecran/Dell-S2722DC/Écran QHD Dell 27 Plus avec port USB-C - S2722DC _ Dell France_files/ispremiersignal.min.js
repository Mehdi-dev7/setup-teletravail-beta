Dell.PremierBanner=Dell.PremierBanner||{},function(e,t,n){Dell.PremierBanner=function(){"use strict";let r=JSON.parse(t.sessionStorage.getItem("user_predictions")),a=!!r&&r.isPremier,i=Dell.Metrics.sc.dfsauthstate.indexOf("hot")>-1,s=e("#swb-container"),o=e("#scr-premier-swb"),c=t.sessionStorage.getItem("premier_banner_campaigncode")||!1;const l=n.getElementById("scr-premier-swb");null!==l&&"undefined"!=typeof DDS&&DDS.MessageBar(l);let m={init:function(){a?this.loadBanner():m.listenPredictionsEvent()},listenPredictionsEvent:function(){n.addEventListener("ShopUserContext.Predictions",(function(e){if(e&&e.detail&&e.detail.predictionData)try{let t=JSON.parse(e.detail.predictionData);a=t.isPremier,m.loadBanner()}catch{a=!1}}))},loadBanner:function(){if(i)s.show(),m.getMessages();else{const e=m.verifyGacds();if(a||e||c){const e=["page","min","max","appref","sortby"];location.href&&location.href.toLowerCase().match(new RegExp("\\b("+e.join("|")+")\\b","ig"))&&o.removeClass("scr-premier-swb-animation"),o.show(),setTimeout((function(){o.removeClass("scr-premier-swb-animation")}),1e3),this.insertSwbBannerIntoVs();try{setTimeout((function(){t.dellmetrics_trackvalue("apd|premierdealsbannerdisplayed")}),3e3)}catch(e){console.log("Error in PremierDeals Banner: ",e)}}else s.show(),m.getMessages()}},verifyGacds:function(){if(location.search&&t.PremierMarketingCampaignCodes)for(let e of new URLSearchParams(location.search).entries())if("gacd"===e[0].toLowerCase()&&e[1]){let n=e[1].split("-");if(n&&t.PremierMarketingCampaignCodes.split(",").indexOf(n[1])>-1)return t.sessionStorage.setItem("premier_banner_campaigncode",n[1]),!0;t.sessionStorage.setItem("premier_banner_campaigncode","")}return!1},getMessages:function(){var t=e(".swb-container"),n=t.attr("data-swb-api-url"),r=e('meta[name="COUNTRY"]').attr("content").toLowerCase(),a="/"+e('meta[name="LANGUAGE"]').attr("content").toLowerCase(),i="/"+e('meta[name="SEGMENT"]').attr("content").toLowerCase(),s="/"+e('meta[name="CUSTOMERSET"]').attr("content").toLowerCase();e('meta[name="waapplicationname"]').attr("content").toLowerCase();if(!(t.length<1)){var o=n.replace("{c}/{l}/{s}/{cs}",r+a+i+s);perfMetrics("start","ajax:"+o),e.get(o).done((function(e){perfMetrics("end","ajax:"+o),perfMetrics("start","ajax-callback:"+o),e?(t.html(e),t.show()):t.hide(),perfMetrics("end","ajax-callback:"+o)})).fail((function(){t.hide()}))}},insertSwbBannerIntoVs:function(){let e=n.getElementById("isPremier__Signal__Section"),t=n.getElementById("scr-premier-swb");if(null===e)return;let r=t.cloneNode(!0);r.classList.remove("scr-premier-swb-animation"),r.style.backgroundColor="#d9f5fd",r.removeAttribute("id"),r.getElementsByTagName("span")[0].style.color="#002A58",r.getElementsByTagName("a")[0].setAttribute("data-metrics",'{"btnname":"minibanner|apd|premieraccount|signin"}'),e.innerHTML="",e.appendChild(r),r.style.display="flex"}};return m}.call(Dell.PremierBanner),e(n).ready((function(){Dell.PremierBanner.init()}))}(jQuery,window,document),"object"==typeof module&&module.exports&&(module.exports=Dell.PremierBanner);