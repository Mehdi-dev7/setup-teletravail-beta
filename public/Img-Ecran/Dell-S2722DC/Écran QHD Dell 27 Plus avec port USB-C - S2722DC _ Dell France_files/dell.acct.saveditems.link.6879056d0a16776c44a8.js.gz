!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("dellCoreJs")):"function"==typeof define&&define.amd?define("dellCoreJs",["dellCoreJs"],t):"object"==typeof exports?exports.dellCoreJs=t(require("dellCoreJs")):(e.dellCoreJs=e.dellCoreJs||{},e.dellCoreJs.apps=e.dellCoreJs.apps||{},e.dellCoreJs.apps.acct=e.dellCoreJs.apps.acct||{},e.dellCoreJs.apps.acct.apps=e.dellCoreJs.apps.acct.apps||{},e.dellCoreJs.apps.acct.apps.savedItems=e.dellCoreJs.apps.acct.apps.savedItems||{},e.dellCoreJs.apps.acct.apps.savedItems.clients=e.dellCoreJs.apps.acct.apps.savedItems.clients||{},e.dellCoreJs.apps.acct.apps.savedItems.clients.link=t(e.dellCoreJs))}(this,function(e){return function(){"use strict";var t={987:function(t){t.exports=e}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};o.r(r),o.d(r,{Client:function(){return j},dataService:function(){return f}});var i,a="dell-acct-saveditems-link",s={console:dellCoreJs.dom.console.map.setGet(a),performance:dellCoreJs.dom.performance.map.setGet(a)},l=o(987);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,p(o.key),o)}}function d(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"context",{user:{isAuthenticated:!1}}),d(this,"hasData",!1),d(this,"itemsCount",0),d(this,"microContent",{labels:{}}),d(this,"rules",{}),d(this,"settings",{})}return t=e,o=[{key:"getData",value:function(){var t=s.performance.start("DataService-GetData");e.getDataCount++,l.http.get({url:"".concat(e.BaseUri,"/api/data").concat(l.context.getUrl()),success:function(e){t.end(),s.performance.measure("DataService-SetData&Render",function(){f.set(e.responseText),dellCoreJs.dom.customElements.map.render(j)})},error:function(t){e.getDataCount>=e.getDataCountMax?l.events.emitError(new Error("Error getting data for ".concat(a," after ").concat(e.getDataCountMax," attempts: ").concat(t.responseText))):e.getData()}})}}],(n=[{key:"getMicroContentLabel",value:function(e){var t;return(null===(t=this.microContent.labels[e])||void 0===t?void 0:t.value)||e}},{key:"set",value:function(e){var t;if("string"==typeof e){var n,o=dellCoreJs.dom.json.tryParse(e,void 0,function(e,t){return"productData"===e?dellCoreJs.dom.json.tryParse(t).result:t});if(o.hasError)return void l.events.emitError("Unable to parse service data response for ".concat(a,": ").concat(null===(n=o.error)||void 0===n?void 0:n.message));e=o.result}this.appBaseUri=e.appBaseUri,this.context=e.context,this.hasData=e.hasData,this.itemsCount=e.itemsCount,this.loginUrl=null===(t=e.loginUrl)||void 0===t?void 0:t.replace(/{redirectUrl}/gi,encodeURIComponent(window.location.href)),this.microContent=e.microContent,this.rules=e.rules,this.savedItemsUrl=e.savedItemsUrl,this.settings=e.settings}}])&&u(t.prototype,n),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o}();i=m,d(m,"getDataCount",0),d(m,"getDataCountMax",3),d(m,"Initialized",function(){if(i.BaseUri=dellCoreJs.dom.customElements.loader.getBaseUri(a),null===i.BaseUri)throw new Error("DataService.BaseUri for ".concat(a," is null"));return i.getData(),l.events.listen(function(e){var t,n;if(null!==(t=e.element)&&void 0!==t&&t.localName.startsWith("dell-acct-saveditems-")||null!==(n=e.element)&&void 0!==n&&n.localName.startsWith("dell-myaccount-saveditems-")){var o="itemAdded"===e.name,r="itemRemoved"===e.name,i=f.itemsCount;(o||r)&&(r&&(f.itemsCount=f.itemsCount-(e.data||[]).length),o&&(f.itemsCount=f.itemsCount+(e.data||[]).length),s.console.log(e.name,e.data,i,f.itemsCount),dellCoreJs.dom.customElements.map.render(j))}}),!0}());var f=new m;function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,E(o.key),o)}}function _(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,n){return t=C(t),function(e,t){if(t&&("object"==v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,n||[],C(e).constructor):t.apply(e,n))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function k(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}var j=function(e){function t(){return y(this,t),h(this,t,arguments)}return w(t,e),_(t,[{key:"getSavedItemsUrl",value:function(){var e="#";return f.settings&&f.settings.accountClient&&(e=dellCoreJs.context.services.urlService.formatUrl(f.settings.accountClient)),e.toLowerCase()}},{key:"hideToolTip",value:function(){var e;null===(e=this.parentElement)||void 0===e||null===(e=e.getElementsByClassName("saved-items__tooltip__wrapper")[0])||void 0===e||e.classList.remove("saved-items__show-tooltip")}},{key:"showToolTip",value:function(e){var t;null===(t=this.parentElement)||void 0===t||t.getElementsByClassName("saved-items__tooltip__wrapper")[0].classList.add("saved-items__show-tooltip")}},{key:"_render",value:function(e){var t=this;if(f.hasData){var n=document.createElement("DIV");n.className="saved-items__link",e.appendChild(n);var o=document.createElement("A");n.appendChild(o),o.href=this.getSavedItemsUrl(),o.textContent=f.getMicroContentLabel("saveditems_link_view_saved_items"),o.setAttribute("tabindex","0"),o.setAttribute("aria-describedBy","saved-items__link__tooltip"),f.context.user.isAuthenticated?(o.className="saved-items__go-to-myaccount-signin",o.textContent+=f.itemsCount>0?" ("+f.itemsCount+")":"",this._setMetrics(o,{btnname:"saveditems|gotomyaccountsignin"})):(n.appendChild(l.dom.parseHtml('\n        <div id="saved-items__link__tooltip" class="saved-items__tooltip__wrapper" role="tooltip">\n          <div class="saved-items__tooltip__message">\n            '.concat(f.getMicroContentLabel("saveditems_link_sign_in_msg"),'\n            <div class="saved-items__down-arrow"></div>\n          </div>\n        </div>\n      '))),o.addEventListener("mouseenter",function(e){t.hideToolTip(),t.showToolTip(null==e?void 0:e.target)}),o.addEventListener("mouseleave",function(e){t.hideToolTip()}),o.addEventListener("focus",function(e){t.hideToolTip(),t.showToolTip(null==e?void 0:e.target)}),o.addEventListener("blur",function(e){t.hideToolTip()}),o.addEventListener("keyup",function(e){"Escape"==e.key&&t.hideToolTip()}),this._setMetrics(o,{btnname:"saveditems|viewallsaveditems"}))}}}])}(l.dom.customElements.DellHtmlElement);k(j,"elementName",a),k(j,"styles",["\n    .saved-items__link {\n        display: inline-flex;\n        position: relative;\n        justify-content: center;\n        line-height: inherit;\n    }\n    #unified-masthead .saved-items__link,\n    #alienware-header .saved-items__link {\n        display: block;\n    }\n    .saved-items__link .saved-items__tooltip__wrapper {\n        display: none;\n        position: absolute;\n        z-index: 9999;\n        top: auto;\n        bottom: 100%;\n        padding-bottom: 13px;\n        text-align: left;\n        margin-bottom: 3px;\n    }\n    .saved-items__link .saved-items__tooltip__wrapper.saved-items__show-tooltip {\n      display: block;\n    }\n    .saved-items__link .saved-items__tooltip__message {\n        box-sizing: border-box;\n        border: gray 1px solid;\n        border-radius: 4px;\n        padding: 8px 12px;\n        background-color: #FFF;\n        width: max-content;\n        max-width: 300px;\n        line-height: 150%;\n    }\n    .saved-items__link .saved-items__down-arrow {\n        width: 10px;\n        height: 10px;\n        background-color: white;\n        border-right: 1px solid gray;\n        border-bottom: 1px solid gray;\n        transform: rotate(45deg);\n        position: absolute;\n        bottom: 8px;\n        left: 50%;\n    }\n    .saved-items__link > a {\n        text-decoration: none;\n    }\n    @media only screen and (max-width: 480px) {\n        .saved-items__link .saved-items__tooltip__message {\n            max-width: 180px;\n        }\n    }\n    @media only screen and (max-width: 767.98px) {\n        .saved-items__link > a {\n            font-size: 1rem;\n        }\n    }\n  "]);var J=function(e){function t(){return y(this,t),h(this,t,arguments)}return w(t,e),_(t)}(j);return k(J,"elementName","dell-myaccount-saveditems-link"),s.performance.measure("registerClients",function(){dellCoreJs.dom.customElements.define(j),dellCoreJs.dom.customElements.define(J)}),r}()});